<!DOCTYPE html>







<html lang="en" 
  
    mode="dark"
  
>

  <!--
  The Head
-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  

    <!-- i18n for `_javascript/utils/timeago.js` -->
    <meta name="day-prompt" content="days ago">
    <meta name="hour-prompt" content="hours ago">
    <meta name="minute-prompt" content="minutes ago">
    <meta name="justnow-prompt" content="just now">

    

    

  

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Planespotting - My ADS-B Setup" />
<meta property="og:locale" content="en" />
<meta name="description" content="Ever wondered where FlightAware or FlightRadar get all the info they show on their sites? Folks like me (and maybe you too!). This article describes what ADS-B is, how I receive it and how I display it, report on it and ultimately send it on to other folks." />
<meta property="og:description" content="Ever wondered where FlightAware or FlightRadar get all the info they show on their sites? Folks like me (and maybe you too!). This article describes what ADS-B is, how I receive it and how I display it, report on it and ultimately send it on to other folks." />
<link rel="canonical" href="https://vk2way.id.au/posts/adsb/" />
<meta property="og:url" content="https://vk2way.id.au/posts/adsb/" />
<meta property="og:site_name" content="VK2WAY" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-10-26T00:00:00+11:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Planespotting - My ADS-B Setup" />
<meta name="twitter:site" content="@jaredquinn" />
<meta name="google-site-verification" content="google_meta_tag_verification" />
<script type="application/ld+json">
{"description":"Ever wondered where FlightAware or FlightRadar get all the info they show on their sites? Folks like me (and maybe you too!). This article describes what ADS-B is, how I receive it and how I display it, report on it and ultimately send it on to other folks.","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://vk2way.id.au/posts/adsb/"},"headline":"Planespotting - My ADS-B Setup","url":"https://vk2way.id.au/posts/adsb/","dateModified":"2021-10-26T00:00:00+11:00","datePublished":"2021-10-26T00:00:00+11:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <title>Planespotting - My ADS-B Setup | VK2WAY
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="VK2WAY">
<meta name="application-name" content="VK2WAY">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">

  <!-- GA -->
  

  <!-- jsDelivr CDN -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css">

  <!--
  CSS selector for site.
-->

<link rel="stylesheet" href="/assets/css/style.css">


  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css">



  <!-- Manific Popup -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">



  <!-- JavaScript -->

  <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>

</head>


  <body data-spy="scroll" data-target="#toc">

    <!--
  The Side Bar
-->

<div id="sidebar" class="d-flex flex-column align-items-end" lang="en">
  <div class="profile-wrapper text-center">
    <div id="avatar">
      <a href="/" alt="avatar" class="mx-auto">
        
          
          <img src="/assets/img/me.jpg" alt="avatar" onerror="this.style.display='none'">
        
      </a>
    </div>

    <div class="site-title mt-3">
      <a href="/">VK2WAY</a>
    </div>
    <div class="site-subtitle font-italic">Jared Quinn</div>

  </div><!-- .profile-wrapper -->

  <ul class="w-100">

    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i>
        <span>HOME</span>
      </a>
    </li>
    <!-- the real tabs -->
    
    <li class="nav-item">
      <a href="/about/" class="nav-link">
        <i class="fa-fw fas fa-user ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>ABOUT</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/categories/" class="nav-link">
        <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>CATEGORIES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tags/" class="nav-link">
        <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>TAGS</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/archives/" class="nav-link">
        <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>ARCHIVES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/contact/" class="nav-link">
        <i class="fa-fw fas fa-envelope ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>CONTACT</span>
      </a>
    </li> <!-- .nav-item -->
    

  </ul> <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center">

    
      

      
      <a href="https://github.com/jaredquinn" aria-label="github"
        
        target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
      

    
      

      
      <a href="https://twitter.com/jaredquinn" aria-label="twitter"
        
        target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
      

    
      

      
      <a href="
          javascript:location.href = 'mailto:' + ['cq','vk2way.id.au'].join('@')" aria-label="email"
        
        >
        <i class="fas fa-envelope"></i>
      </a>
      

    
      

      
      <a href="/feed.xml" aria-label="rss"
        
        >
        <i class="fas fa-rss"></i>
      </a>
      

    

    

  </div> <!-- .sidebar-bottom -->

</div><!-- #sidebar -->


    <!--
  The Top Bar
-->

<div id="topbar-wrapper" class="row justify-content-center topbar-down">
  <div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between">
    <span id="breadcrumb">

    

    

      

        
          <span>
            <a href="/">
              Home
            </a>
          </span>

        

      

        

      

        

          
            <span>Planespotting - My ADS-B Setup</span>
          

        

      

    

    </span><!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input class="form-control" id="search-input" type="search"
        aria-label="search" autocomplete="off" placeholder="Search...">
      <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i>
    </span>
    <span id="search-cancel" >Cancel</span>
  </div>

</div>


    <div id="main-wrapper">
      <div id="main">

        <!--
  Refactor the HTML structure.
-->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Add attribute 'hide-bullet' to the checkbox list -->




<!-- images -->



  <!-- add CDN prefix if it exists -->

  

  

  <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

  

  <!-- add image placehoder to prevent layout reflow -->

  

  

  
    
      
      
    

    
    
    

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    

    

  
    

    
    
    

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    

    

  
    

    
    
    

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    

    

  
    

    
    
    

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    

    

  
    

    
    
    

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    

    

  
    

    
    
    

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    
      
      

      

      

    

    

  

  



<!-- Add header for code snippets -->




<!-- return -->





<div class="row">

  <div id="post-wrapper" class="col-12 col-lg-11 col-xl-8">

    <div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

      <h1 data-toc-skip>Planespotting - My ADS-B Setup</h1>

      <div class="post-meta text-muted d-flex flex-column">
        <!-- Published date and author -->
        <div>
          <span class="semi-bold">
            Jared Quinn
          </span>
          
          <!--
  Date format snippet
  See: /assets/js/_utils/timeage.js
-->






  on

<span class="timeago "
  
    data-toggle="tooltip"
    data-placement="bottom"
    title="Tue, Oct 26, 2021, 12:00 AM +1100"
  >Oct 26<i class="unloaded">2021-10-26T00:00:00+11:00</i>
</span>

        </div>

        <div>
          <!-- lastmod -->
          

          <!-- read time -->
          <!--
  Calculate the post's reading time, and display the word count in tooltip
 -->



<!-- words per minute  -->










<!-- return element -->
<span class="readtime" data-toggle="tooltip" data-placement="bottom"
  title="1986 words">11 min
     read</span>


          <!-- page views -->
          

        </div>

      </div> <!-- .post-meta -->

      <div class="post-content">

        

        <p>Ever wondered where FlightAware or FlightRadar get all the info they show on their sites?  Folks like me (and maybe you too!).  This article describes what ADS-B is, how I receive it and how I display it, report on it and ultimately send it on to other folks.</p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th style="text-align: left">Project Cost</th>
      <th style="text-align: left">Build Time</th>
      <th style="text-align: left">Assumed Knowledge</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">$60-$120</td>
      <td style="text-align: left">2hrs-1day</td>
      <td style="text-align: left">Basic Linux<br />Familiarity with Single Board Computers (eg Raspberry Pi)</td>
    </tr>
  </tbody>
</table></div>

<h1 id="what-is-ads-b">What is ADS-B?</h1>

<p>ADS-B is a system in which electronic equipment onboard an aircraft automatically broadcasts the precise location of the aircraft via a digital data link.  The system involves an aircraft with ADS-B determining its position using GPS. A suitable transmitter then broadcasts that position at rapid intervals, along with identity, altitude, velocity and other data. Dedicated ADS-B grounds stations receive the broadcasts and relay the information to air traffic control for precise tracking of the aircraft.</p>

<ul>
  <li>Automatic - Requires no pilot input or external interrogation.</li>
  <li>Dependant - Depends on accurate data from the aircraft’s navigation system (eg. GPS).</li>
  <li>Surveillance - Provides aircraft surveillance data to facilities that require the information.</li>
  <li>Broadcast - Information is continually broadcast for monitoring</li>
</ul>

<p>Here in Australia ADS-B is mandatory on all aircraft operating above FL300 (30,000ft).</p>

<p>ADS-B data is broadcast every half-second at 1090MHz using a 50kHz pulse-poition modulated digital data link, and has a very digital look when viewed on an RF waterfall:</p>

<p><img data-proofer-ignore data-src="/posts/adsb/waterfall.png" alt="ADS-B Data on an RF Waterfall" /></p>

<p>Broadcasts may include:</p>

<ul>
  <li>Flight Identification (flight number callsign or call sign)</li>
  <li>ICAO 24-bit Aircraft Address (globally unique airframe code)</li>
  <li>Position (latitude/longitude)</li>
  <li>Position integrity/accuracy (GPS horizontal protection limit)</li>
  <li>Barometric and Geometric Altitudes</li>
  <li>Vertical Rate (rate of climb/descent)</li>
  <li>Track Angle and Ground Speed (velocity)</li>
  <li>Emergency indication (when emergency code selected)</li>
  <li>Special position identification (when IDENT selected)</li>
  <li>The ability of a ground station to receive a signal depends on altitude, distance from the site and obstructing terrain. The maximum range of each ground station can exceed 250 nautical miles. In airspace immediately surrounding each ground station, surveillance coverage extends to near the surface.</li>
</ul>

<h1 id="my-ads-b-receiver-setup">My ADS-B Receiver Setup</h1>

<p>This is the second generation of ADS-B receiver running at my station; the first generation was 
located on my balcony and not capable of 24x7 operation; this has since been relocated with
a dedicated Orange Pi, reciever and antenna.</p>

<p>You can substitute anything you want for the Orange Pi, as long as it can run Linux (Armbian ideally if you want to make it as easy as my setup was) and has USB support for the USB SDR Dongle.  I am a huge fan of the Orange Pi PC (1GB) model as you can pick it up from the official store for around $40AUD.</p>

<ul>
  <li><a href="https://amzn.to/3n5gdWi">Orange Pi One</a> 🛒 or the <a href="https://www.aliexpress.com/item/1005001689152635.html">Official Shenzen Xunlong Store</a>↗ on AliExpress.</li>
  <li><a href="https://amzn.to/3klzocS">Nooelec NESDR SMArt v4 Software Defined Radio</a> 🛒</li>
  <li>¼λ Mini Whip (trimmed supplied antenna)</li>
</ul>

<blockquote>
  <p>Be aware also many RTL-SDRs are NOT well engineered and have large drifts or are only designed to pick up strong broadcast FM/DVB-T signals, read reviews and buy from a reputable source.  I highly recommend this one.</p>
</blockquote>

<p>The first task was to take the mini magnetic mount antenna and fix it.  We do this by trimming it 
down to an exact ¼ wavelength required for 1090Mhz reception - or 69mm to the base or ground plane.</p>

<p><img data-proofer-ignore data-src="/posts/adsb/antenna-1.jpg" alt="1/4 Wavelength mini-whip" /></p>

<p>My antenna is currently mounted outside my bedroom window and is operating without a ground plane,
the next thing I plan to rectify to improve.  While located along a north facing wall of a inner
city apartment building; this antenna currently provides a reasonable range.</p>

<p>As with all radio receiving, the placement of the antenna seems to have way more impact on your 
reception than any particular antenna and I’ve experimented with various antennas in this setup over
the last few months even the improvement by adding a simple ground plane to this antenna wasn’t worth
attracting unwanted attention to it.   1090Mhz is in the gigahertz range and as we increase in frequency
RF signals penetrate less material, line of site is ideal, so pick a place with a nice large sector of the 
sky visible if possible for the placement of your antenna.</p>

<h2 id="typical-air-traffic-and-range">Typical Air Traffic and Range</h2>

<p>A typical 48 hours of flight paths picked up by my receiver looks like:</p>

<p><img data-proofer-ignore data-src="/posts/adsb/map.jpg" alt="A typical 48 hours" /></p>

<p>The current setup easily picks up most traffic within 50nm and regularly reaches closer to 100nm. 
This was greatly improved with a ground plane on the antenna as was used during the first generation
of this project however a more concealed antenna was required for 24x7 operation.</p>

<h1 id="the-nuts-and-bolts">The Nuts and Bolts</h1>

<p>Making use of the current infrastructure at home including the 24x7 server controlling Home Assistant,
MQTT and the smarthome projects; the client/server model was taken for ADS-B Monitoring.</p>

<p>The radio and main server are seperated in my environment purely for convenience; this also allows tar1090
to manage a much larger dataset and more storing and development opportunities around the ads-b data; this
details how that’s done:</p>

<h2 id="the-radio">The Radio</h2>

<ul>
  <li>Radio1 - Orange Pi with USB RTL-SDR Dongle
    <ul>
      <li><a href="https://www.armbian.com/orange-pi-one/">Armbian 21.08.3 Focal (Linux 5.10.60-sunxi)</a>↗</li>
      <li><a href="https://github.com/adsbxchange/dump1090-mutability">Dump1090-mutability</a>↗</li>
      <li><a href="https://github.com/wiedehopf/combine1090">Combine1090</a>↗</li>
    </ul>
  </li>
</ul>

<p><img data-proofer-ignore data-src="/posts/adsb/sbc.jpg" alt="Orange Pi One, Dongle and Cable" /></p>

<blockquote>
  <p>Note: A FlightAware Pro Stick is pictured below.  While I’ve had excellent results with this product, 
it is regularly unavailable. I highly recommend the Nooelec NESDR SMArt v4 SDR linked at the top of this article.</p>
</blockquote>

<p>You’ll need to follow one of the countless guides out there for getting Armbian installed on your Orange Pi 
along with blacklisting the DVB modules so that you can use the full capabilities of the RTL dongle.</p>

<h3 id="dump1090">Dump1090</h3>

<p>I’ve been using the packaged version of dump1090-mutability that’s in the apt repositories for Armbian;
just <code class="language-plaintext highlighter-rouge">apt install dump1090-mutability</code> to get it running.  Configurtion is very straight forward, use your
favourite text editor to update the <code class="language-plaintext highlighter-rouge">/etc/default/dump1090-mutability</code> file.</p>

<p>You’ll definitely want to update your LON and LAT to as close as you can find for the location of your 
antenna.  I do this to 6 decimal places.  DEVICE is useful if you’re running more than one radio on your 
computer.  I have no problems decoding ADS-B with GAIN set to “max” and if you’ve got a good dongle PPM can be
left at 0 (though with some cheap dongles I’ve seen this need to go as high as 160!).</p>

<p>Dump1090 has it’s own web interface to show you what’s in the air right now around you; you can reach this
at <code class="language-plaintext highlighter-rouge">http://IP-ADDRESS/dump1090</code> if you have lighttpd running and have installed dump1090 from the Armbian packages.</p>

<p><img data-proofer-ignore data-src="/posts/adsb/dump1090.png" alt="Dump1090 Interface" /></p>

<blockquote>
  <p>Note: Sydney Airport has a noise curfew overnight and we see little traffic in this area until 6am.  This screen shot was taken 
at 0100 hours, local time.</p>
</blockquote>

<p>If you’re not running a split client/server model, you should leave this <code class="language-plaintext highlighter-rouge">combine1090</code> step out, it’s only useful for pushing data between 
dump1090 instances.  You can run <code class="language-plaintext highlighter-rouge">tar1090</code>, PrettyFly and the data feeders mentioned in the <em>Server</em> section on the same device running
your radio.</p>

<h3 id="combine1090">Combine1090</h3>

<p>Combine1090 is used to forward the ADS-B traffic between the dump1090 protocol using the defined network
ports; usually this is setup on the server side to connect to the remote radio but it made much more sense in this
configuration for the radio to run in push mode.  Under the hood Combine1090 is just a shell script and systemd startup
wrapper around the swiss-army knife utility familiar to every network and system administrator, nc (netcat).   This simply
connects one port to another in a pipe for you, in our case the output RAW data from dump1090 on our radio to the 
RAW in-port on dump1090 running on our server (below for the server-end).</p>

<p>This additionally allows either, or both radio1 and radio3 to take the role of ADS-B monitoring; which is
useful when one is taken offline for maintenance, upgrades or changes.</p>

<p>Configuration of combine1090 is performed through environment variables configured in the <code class="language-plaintext highlighter-rouge">/etc/default/combine1090</code> file;</p>
<div file="/etc/default/combine1090" class="language-plaintext highlighter-rouge"><div class="code-header">
        <span text-data="/etc/default/combine1090"><i class="fa-fw far fa-file-code"></i></span>
      <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>SOURCES=127.0.0.1
PORTS=30005
TARGET=houseserver.lan:30004
</pre></td></tr></tbody></table></code></div></div>

<p>Restart tar1090 using <code class="language-plaintext highlighter-rouge">systemctl restart combine1090</code></p>

<p>You should leave the dump1090 options (RECIEVER/DECODER and last few lines of the default config) commented out and 
utilise the packaged dump1090-mutability (or dump1090-fa from piaware) for Armbian.</p>

<p>I highly recommend you add the <code class="language-plaintext highlighter-rouge">rtl-sdr</code> package as well for other handy tools (like <code class="language-plaintext highlighter-rouge">rtl_tcp</code> to remote control the radio 
across the network, but more on this in a future post)!</p>

<blockquote>
  <p>Combine1090 will keep trying to connect until your server is online, so move on to the next section already.</p>
</blockquote>

<h2 id="the-server">The Server</h2>

<p>The server already existed on my network; if you’re running without it you can leave combine1090 off for now.  It’s worth 
considering the split as tar1090’s data storage is not well optimised for large amounts of data, and I now keep 48 hours of
fight history in the tar1090 data file.</p>

<ul>
  <li>On Server
    <ul>
      <li>Ubuntu 21.10</li>
      <li><a href="https://github.com/adsbxchange/dump1090-mutability">Dump1090-mutability</a>↗</li>
      <li><a href="https://github.com/wiedehopf/tar1090">Tar1090</a>↗</li>
    </ul>
  </li>
</ul>

<p>If you chose to run tar1090 directly on a Pi, be aware of the processing time required for a large number of flights and 
adjust your retention time.</p>

<h3 id="tar1090">Tar1090</h3>

<p>Tar1090 provides a better map and UI in my opinon that dump1090 but it’s more powerful feature is showing it’s full history.
Once installed alongside lightttpd (or nginx in my case, however nginx reverse proxy configuration is beyond the scope of this
article) you can find tar1090 at <code class="language-plaintext highlighter-rouge">http://IP-ADDRESS/tar1090</code> and for the historic view <code class="language-plaintext highlighter-rouge">http://IP-ADDRESS/tar1090?pTracks</code>.</p>

<p><img data-proofer-ignore data-src="/posts/adsb/tar1090.png" alt="Tar1090 Interface" /></p>

<blockquote>
  <p>Note: The ‘range’ screenshot earlier in this article shows tar1090 with the ‘pTracks’ URL query-string argument.</p>
</blockquote>

<p>Installation is very easy, following the instructions from the tar1090 project; once installed you can modify the <code class="language-plaintext highlighter-rouge">/etc/default/tar1090</code> file and modify the relevant variables.
The important one to update:</p>

<div file="/etc/default/tar1090" class="language-plaintext highlighter-rouge"><div class="code-header">
        <span text-data="/etc/default/tar1090"><i class="fa-fw far fa-file-code"></i></span>
      <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre># hours of tracks that /?pTracks will show
PTRACKS=48
</pre></td></tr></tbody></table></code></div></div>

<p>Restart tar1090 using <code class="language-plaintext highlighter-rouge">systemctl restart tar1090</code></p>

<h1 id="related-projects">Related Projects</h1>

<ul>
  <li><a href="/posts/prettyfly/">PrettyFly</a> - Prettified ADS-B reporting, work in progress.</li>
</ul>

<p>The PrettyFly project is a work in progress which I will soon be developing further.  The current version utilises the
tar1090 pTracks data files (hence the 48 hour rentention I like to run), but later research has indicated that the raw or CSV
protocol from dump1090 would be easier to process into the kind of reports I want to run.   For now though check out the
page above for some of the reporting that is done by this first foray into writing code to report on ADS-B data.</p>

<p>Some exampel output from PrettyFly:</p>

<div file="PrettyFly Output" class="language-plaintext highlighter-rouge"><div class="code-header">
        <span text-data="PrettyFly Output"><i class="fa-fw far fa-file-code"></i></span>
      <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre>
By Country of Registration

 1. 🇦🇺 Australia (124)
 2. 🇺🇸 United States (11)
 2. 🇨🇳 China (11)
 3. 🇸🇬 Singapore (8)
 4. 🇳🇿 New Zealand (4)
 5. 🇦🇪 United Arab Emirates (3)
 5. 🇲🇾 Malaysia (3)
 6. 🇹🇼 Taiwan (2)
 6. 🇯🇵 Japan (2)
 7. 🇹🇭 Thailand (1)
 7. 🇱🇰 Sri Lanka (1)
 7. 🇰🇷 South Korea (1)
 7. 🇷🇺 Russia (1)
 7. 🇶🇦 Qatar (1)
 7. 🇵🇭 Philippines (1)
 7. 🇬🇷 Greece (1)
 7. 🇫🇯 Fiji (1)
</pre></td></tr></tbody></table></code></div></div>

<p>Along with more detailed categorisation and reporting:</p>

<div file="PrettyFly Output" class="language-plaintext highlighter-rouge"><div class="code-header">
        <span text-data="PrettyFly Output"><i class="fa-fw far fa-file-code"></i></span>
      <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>Flights of Interest

🚑 Medical 9: VH-RFD/AM228, VH-RFD/AM293, VH-RFD/AM277, VH-AMQ/AM242, VH-PWX/AE913, VH-ZSU/CFH23, VH-AMR/AM214, VH-NAJ/AM227, VH-ZCY/CFH21
⛑ Rescue 1: VH-TJE/RSCU201
✈️  RAAF 4: A36-002/ASY326, A97-465/TROJ26, A30-003/WGTL15, A56-003/EVY55
💣 Military Contractor 4: VH-SLF/FRSC11, VH-SLF/FRSC31, VH-LJU/FRSC12, VH-LRH/FRSC32
</pre></td></tr></tbody></table></code></div></div>

<p>It was named PrettyFly mostly because of it’s unapologetic use of emoji.</p>

<p>You can find the PrettyFly project at <a href="https://github.com/jaredquinn/prettyfly">https://github.com/jaredquinn/prettyfly</a>↗, including the
(almost) daily updated <code class="language-plaintext highlighter-rouge">data/*.json</code> files for operators and aircraft classification.</p>

<h1 id="data-feeders">Data Feeders</h1>

<p>If you’re going to run this kind of receiver, it’s worth feeding the data to FlightAware at minimum as the benefits they 
provide (buiness plan access) is worth it alone;  however as a believer in open-data and sharing, I particularly like ADSBHub
as they will provide the global ‘firehose’ of ADS-B data from all 2,000 contributors in their community.</p>

<p>I feed data to:</p>

<ul>
  <li><a href="https://www.adsbhub.org/station.php?id=2907">ADS-B Hub Station VK2WAY/SYD1</a>↗</li>
  <li><a href="https://flightaware.com/adsb/stats/user/FlyByNightSydney">FightAware - FlyByNightSydney</a>↗</li>
  <li><a href="https://opensky-network.org/receiver-profile?s=-1408232334">OpenSky Network</a>↗</li>
  <li>FlightRadar 24 (Radar T-YMCO1)</li>
</ul>

<p>Running the split client/server mode also gives me the benefit of running all my data feeders in the centralised location, not requiring
a setup on each of the radio receiver devices or future versions of it, making configuration management much easier.</p>



      </div>

      <div class="post-tail-wrapper text-muted">

        <!-- categories -->
        

        <div class="post-meta mb-3">
          <i class="far fa-folder-open fa-fw mr-1"></i>
          
            <a href='/categories/radio/'>Radio</a>,
            <a href='/categories/ads-b/'>ADS-B</a>
        </div>
        

        <!-- tags -->
        
        <div class="post-tags">
          <i class="fa fa-tags fa-fw mr-1"></i>
          
          <a href="/tags/sbc/"
            class="post-tag no-text-decoration" >sbc</a>
          
          <a href="/tags/pi/"
            class="post-tag no-text-decoration" >pi</a>
          
          <a href="/tags/sdr/"
            class="post-tag no-text-decoration" >sdr</a>
          
          </div>
        

        <div class="post-tail-bottom
          d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
          <div class="license-wrapper">
          
            
            This post is licensed under 
            <a href="https://creativecommons.org/licenses/by/4.0/">
              CC BY 4.0
            </a>
             by the author.
          
          </div>

          <!--
 Post sharing snippet
-->

<div class="share-wrapper">
  <span class="share-label text-muted mr-1">Share</span>
  <span class="share-icons">
    
    

    
      
        <a href="https://twitter.com/intent/tweet?text=Planespotting - My ADS-B Setup - VK2WAY&url=https://vk2way.id.au/posts/adsb/" data-toggle="tooltip" data-placement="top"
          title="Twitter" target="_blank" rel="noopener" aria-label="Twitter">
          <i class="fa-fw fab fa-twitter"></i>
        </a>
    
      
        <a href="https://www.facebook.com/sharer/sharer.php?title=Planespotting - My ADS-B Setup - VK2WAY&u=https://vk2way.id.au/posts/adsb/" data-toggle="tooltip" data-placement="top"
          title="Facebook" target="_blank" rel="noopener" aria-label="Facebook">
          <i class="fa-fw fab fa-facebook-square"></i>
        </a>
    
      
        <a href="https://telegram.me/share?text=Planespotting - My ADS-B Setup - VK2WAY&url=https://vk2way.id.au/posts/adsb/" data-toggle="tooltip" data-placement="top"
          title="Telegram" target="_blank" rel="noopener" aria-label="Telegram">
          <i class="fa-fw fab fa-telegram"></i>
        </a>
    

    <i id="copy-link" class="fa-fw fas fa-link small"
        data-toggle="tooltip" data-placement="top"
        title="Copy link"
        title-succeed="Link copied successfully!">
    </i>

  </span>
</div>


        </div><!-- .post-tail-bottom -->

      </div><!-- div.post-tail -->

    </div> <!-- .post -->


  </div> <!-- #post-wrapper -->

  

  

  <!--
  The Pannel on right side (Desktop views)
-->





<div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down">

  <div class="access">

  














  

  















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  
    <div id="access-tags">
      <span>Trending Tags</span>
      <div class="d-flex flex-wrap mt-3 mb-1 mr-3">

      
        
        <a class="post-tag" href="/tags/homeassistant/">homeassistant</a>
      
        
        <a class="post-tag" href="/tags/smarthome/">smarthome</a>
      
        
        <a class="post-tag" href="/tags/sdr/">sdr</a>
      
        
        <a class="post-tag" href="/tags/esp/">esp</a>
      
        
        <a class="post-tag" href="/tags/pi/">pi</a>
      
        
        <a class="post-tag" href="/tags/sbc/">sbc</a>
      
        
        <a class="post-tag" href="/tags/can/">can</a>
      
        
        <a class="post-tag" href="/tags/iot/">iot</a>
      
        
        <a class="post-tag" href="/tags/mqtt/">mqtt</a>
      
        
        <a class="post-tag" href="/tags/software/">software</a>
      

      </div>
    </div>
  
  </div> <!-- .access -->

  
    <!-- BS-toc.js will be loaded at medium priority -->
    <script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script>
    <div id="toc-wrapper" class="pl-0 pr-4 mb-5">
      <span class="pl-3 pt-2 mb-2">Contents</span>
      <nav id="toc" data-toggle="toc"></nav>
    </div>
  

</div> <!-- #panel-wrapper -->


</div> <!-- .row -->

<div class="row">
  <div class="col-12 col-lg-11 col-xl-8">
    <div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

    <!--
 Recommend the other 3 posts according to the tags and categories of the current post,
 if the number is not enough, use the other latest posts to supplement.
-->

<!-- The total size of related posts  -->


<!-- An random integer that bigger than 0  -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy}  -->








  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  
    
  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  








<!-- Fill with the other newlest posts  -->




  
    
    
      
      
        
        
        
          





  <div id="related-posts" class="mt-5 mb-2 mb-sm-4">
    <h3 class="pt-2 mt-1 mb-4 ml-1"
      data-toc-skip>Further Reading</h3>
    <div class="card-deck mb-4">
    
      
      
      <div class="card">
        <a href="/posts/balcony-cam/">
          <div class="card-body">
            <!--
  Date format snippet
  See: /assets/js/_utils/timeage.js
-->






<span class="timeago small"
  >Oct 25<i class="unloaded">2021-10-25T00:00:00+11:00</i>
</span>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>The Balcony Radio and Camera</h3>
            <div class="text-muted small">
              <p>
                





                Project Details Coming Soon




              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/prettyfly/">
          <div class="card-body">
            <!--
  Date format snippet
  See: /assets/js/_utils/timeage.js
-->






<span class="timeago small"
  >Nov  2<i class="unloaded">2021-11-02T00:00:00+11:00</i>
</span>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>PrettyFly (Emoji Heavy) ADS-B Report Generator</h3>
            <div class="text-muted small">
              <p>
                





                Warning: This is a work in progress

PrettyFly is a first attempt at turning ADS-B data into interesting reports; it depends on 
Tar1090 from wiedehopf.  PrettyFly is currently only
able to travel ...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/xiaomi-lights/">
          <div class="card-body">
            <!--
  Date format snippet
  See: /assets/js/_utils/timeage.js
-->






<span class="timeago small"
  >Nov  9<i class="unloaded">2021-11-09T00:00:00+11:00</i>
</span>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>Xiaomi Aqara Button Homeassistant Blueprint</h3>
            <div class="text-muted small">
              <p>
                





                Actions

I love these Xiami buttons and used them to replace all of the light switches in 
the house, each button is configured so that:


  Single tap - nearest light
  Double tap - next nearest l...
              </p>
            </div>
          </div>
        </a>
      </div>
    
    </div> <!-- .card-deck -->
  </div> <!-- #related-posts -->



    <!--
  Navigation buttons at the bottom of the post.
-->

<div class="post-navigation d-flex justify-content-between">
  
  <a href="/posts/balcony-cam/" class="btn btn-outline-primary"
    prompt="Older">
    <p>The Balcony Radio and Camera</p>
  </a>
  

  
  <a href="/posts/homeassistant/" class="btn btn-outline-primary"
    prompt="Newer">
    <p>Welcome to my Smart Home</p>
  </a>
  

</div>


    

    </div> <!-- #post-extend-wrapper -->

  </div> <!-- .col-* -->

</div> <!-- .row -->



        <!--
  The Footer
-->

<footer class="d-flex w-100 justify-content-center">
  <div class="d-flex justify-content-between align-items-center">
    <div class="footer-left">
      <p class="mb-0">
        © 2021
        <a href="https://twitter.com/jaredquinn">Jared Quinn</a>.
        
        <span data-toggle="tooltip" data-placement="top"
          title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span>
        
      </p>
    </div>

    <div class="footer-right">
      <p class="mb-0">
        

        

        Powered by 
          <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>
         with 
          <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>
         theme.

      </p>
    </div>

  </div> <!-- div.d-flex -->
</footer>


      </div>

      <!--
  The Search results
-->
<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-12 col-sm-11 post-content">
    <div id="search-hints">
      <h4 class="text-muted mb-4">Trending Tags</h4>

      















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



      
        
        <a class="post-tag" href="/tags/homeassistant/">homeassistant</a>
      
        
        <a class="post-tag" href="/tags/smarthome/">smarthome</a>
      
        
        <a class="post-tag" href="/tags/sdr/">sdr</a>
      
        
        <a class="post-tag" href="/tags/esp/">esp</a>
      
        
        <a class="post-tag" href="/tags/pi/">pi</a>
      
        
        <a class="post-tag" href="/tags/sbc/">sbc</a>
      
        
        <a class="post-tag" href="/tags/can/">can</a>
      
        
        <a class="post-tag" href="/tags/iot/">iot</a>
      
        
        <a class="post-tag" href="/tags/mqtt/">mqtt</a>
      
        
        <a class="post-tag" href="/tags/software/">software</a>
      

    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>


    </div> <!-- #main-wrapper -->

    

    <div id="mask"></div>

    <a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button">
      <i class="fas fa-angle-up"></i>
    </a>

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script>

<script>
SimpleJekyllSearch({
  searchInput: document.getElementById('search-input'),
  resultsContainer: document.getElementById('search-results'),
  json: '/assets/js/data/search.json',
  searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0">  <a href="{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    {categories}    {tags}  </div>  <p>{snippet}</p></div>',
  noResultsText: '<p class="mt-5">Oops! No result founds.</p>',
  templateMiddleware: function(prop, value, template) {
    if (prop === 'categories') {
      if (value === '') {
        return `${value}`;
      } else {
        return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
      }
    }

    if (prop === 'tags') {
      if (value === '') {
        return `${value}`;
      } else {
        return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
      }
    }
  }
});
</script>


    <!--
  JS selector for site.
-->

<!-- layout specified -->


  



  <!-- image lazy-loading & popup -->
  <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script>





<script defer src="/assets/js/dist/post.min.js"></script>



<!-- commons -->

<script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script>




  </body>

</html>

