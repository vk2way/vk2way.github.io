<!DOCTYPE html><html lang="en" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Introducing The Dirge (A CAN Bus)" /><meta property="og:locale" content="en" /><meta name="description" content="Dirge’s Bus" /><meta property="og:description" content="Dirge’s Bus" /><link rel="canonical" href="https://vk2way.id.au/posts/the-bus/" /><meta property="og:url" content="https://vk2way.id.au/posts/the-bus/" /><meta property="og:site_name" content="VK2WAY" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-10-24T00:00:00+11:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Introducing The Dirge (A CAN Bus)" /><meta name="twitter:site" content="@jaredquinn" /><meta name="google-site-verification" content="" /> <script type="application/ld+json"> {"mainEntityOfPage":{"@type":"WebPage","@id":"https://vk2way.id.au/posts/the-bus/"},"description":"Dirge’s Bus","@type":"BlogPosting","headline":"Introducing The Dirge (A CAN Bus)","dateModified":"2021-10-24T00:00:00+11:00","datePublished":"2021-10-24T00:00:00+11:00","url":"https://vk2way.id.au/posts/the-bus/","@context":"https://schema.org"}</script><title>Introducing The Dirge (A CAN Bus) | VK2WAY</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="VK2WAY"><meta name="application-name" content="VK2WAY"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/me.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">VK2WAY</a></div><div class="site-subtitle font-italic">Jared Quinn</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-user ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fas fa-envelope ml-xl-3 mr-xl-3 unloaded"></i> <span>CONTACT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/jaredquinn" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/jaredquinn" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['cq','vk2way.id.au'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Introducing The Dirge (A CAN Bus)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Introducing The Dirge (A CAN Bus)</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Jared Quinn </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Oct 24, 2021, 12:00 AM +1100" >Oct 24<i class="unloaded">2021-10-24T00:00:00+11:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="114 words">1 min read</span></div></div><div class="post-content"><h1 id="dirges-bus">Dirge’s Bus</h1><p>Intro…</p><h1 id="the-dirge-sensor">The “Dirge” Sensor</h1><p><a href="https://github.com/jaredquinn/dirge-iot">The Sensor Project on GitHub</a></p><h2 id="features">Features</h2><ul><li>TPS54202 Based 12V to 5V Converter<li>Dual AO4407A 30V 12A Switching channels (12V SW1 &amp; SW2)<li>12V Input Voltage Monitoring<li>AHT20 Temperature/Humidity Sensor<li>Jumper selectable Supply MCU 5V from USB, 5V BUS or 12V Supply<li>Enable/Disable 12V to 5V buck jumper<li>MCP2562 / MCP2515 5V CAN (Controller Area Network) Bus Driver<li>4 Normally Open Button Inputs (supports momentary &amp; toggles)<li>2 TTL (3V3) Output Signals (not for power supply)<li>TXB0104PWR IC 4bit Bi-directional Level Shifter<ul><li>UART TX / RX<li>LED Pixel Pusher 5V Data CH1/CH2</ul><li>6 DIP Switches<ul><li>1-4=Config/Multiplexed with BTN INs<li>5=Enable 5V Level Shifter PXL/UARTs<li>6=Terminate CAN bus with 120Ohm</ul></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/electronics/'>Electronics</a>, <a href='/categories/the-dirge-can-bus-module/'>The Dirge CAN Bus Module</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/can/" class="post-tag no-text-decoration" >can</a> <a href="/tags/esp/" class="post-tag no-text-decoration" >esp</a> <a href="/tags/iot/" class="post-tag no-text-decoration" >iot</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Introducing The Dirge (A CAN Bus) - VK2WAY&url=https://vk2way.id.au/posts/the-bus/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Introducing The Dirge (A CAN Bus) - VK2WAY&u=https://vk2way.id.au/posts/the-bus/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Introducing The Dirge (A CAN Bus) - VK2WAY&url=https://vk2way.id.au/posts/the-bus/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/homeassistant/">homeassistant</a> <a class="post-tag" href="/tags/smarthome/">smarthome</a> <a class="post-tag" href="/tags/sdr/">sdr</a> <a class="post-tag" href="/tags/esp/">esp</a> <a class="post-tag" href="/tags/pi/">pi</a> <a class="post-tag" href="/tags/sbc/">sbc</a> <a class="post-tag" href="/tags/camera/">camera</a> <a class="post-tag" href="/tags/can/">can</a> <a class="post-tag" href="/tags/iot/">iot</a> <a class="post-tag" href="/tags/mqtt/">mqtt</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/aqua-mon/"><div class="card-body"> <span class="timeago small" >Oct 29<i class="unloaded">2021-10-29T00:00:00+11:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Aquarium Monitor ESP8266/MQTT</h3><div class="text-muted small"><p> Coming Soon</p></div></div></a></div><div class="card"> <a href="/posts/weather-station/"><div class="card-body"> <span class="timeago small" >Dec 4<i class="unloaded">2021-12-04T00:00:00+11:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Weather Station</h3><div class="text-muted small"><p> While usually I try to consolidate projects to deploy fewer devices, the decision on this project was to build it so that it would be useful for anyone wanting to build a weather station but also ...</p></div></div></a></div><div class="card"> <a href="/posts/balcony-multi-cam/"><div class="card-body"> <span class="timeago small" >Dec 1<i class="unloaded">2021-12-01T00:00:00+11:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>The Balcony Multi-System (Radio and Camera)</h3><div class="text-muted small"><p> Starting from a coffee table next to my balcony and an RG58 cable running out to the antenna, this project takes that network Software Defined Radio Receiver and puts it on the balcony providing th...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/welcome/" class="btn btn-outline-primary" prompt="Older"><p>Welcome to vk2way.id.au</p></a> <a href="/posts/adsb/" class="btn btn-outline-primary" prompt="Newer"><p>Planespotting - My ADS-B Setup</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://vk2way.id.au/posts/the-bus/'; this.page.identifier = '/posts/the-bus/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://vk2way.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (modeToggle !== null) { modeToggle.addEventListener('click', reloadDisqus); window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/jaredquinn">Jared Quinn</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/homeassistant/">homeassistant</a> <a class="post-tag" href="/tags/smarthome/">smarthome</a> <a class="post-tag" href="/tags/sdr/">sdr</a> <a class="post-tag" href="/tags/esp/">esp</a> <a class="post-tag" href="/tags/pi/">pi</a> <a class="post-tag" href="/tags/sbc/">sbc</a> <a class="post-tag" href="/tags/camera/">camera</a> <a class="post-tag" href="/tags/can/">can</a> <a class="post-tag" href="/tags/iot/">iot</a> <a class="post-tag" href="/tags/mqtt/">mqtt</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-HJW3RZNZYR"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-HJW3RZNZYR'); }); </script>
