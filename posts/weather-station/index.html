<!DOCTYPE html><html lang="en" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="APRS WX Weather Station" /><meta property="og:locale" content="en" /><meta name="description" content="Early Draft Article: Work in progress" /><meta property="og:description" content="Early Draft Article: Work in progress" /><link rel="canonical" href="https://vk2way.id.au/posts/weather-station/" /><meta property="og:url" content="https://vk2way.id.au/posts/weather-station/" /><meta property="og:site_name" content="VK2WAY" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-12-04T00:00:00+11:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="APRS WX Weather Station" /><meta name="twitter:site" content="@jaredquinn" /><meta name="google-site-verification" content="" /> <script type="application/ld+json"> {"mainEntityOfPage":{"@type":"WebPage","@id":"https://vk2way.id.au/posts/weather-station/"},"description":"Early Draft Article: Work in progress","@type":"BlogPosting","headline":"APRS WX Weather Station","dateModified":"2021-12-04T00:00:00+11:00","datePublished":"2021-12-04T00:00:00+11:00","url":"https://vk2way.id.au/posts/weather-station/","@context":"https://schema.org"}</script><title>APRS WX Weather Station | VK2WAY</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="VK2WAY"><meta name="application-name" content="VK2WAY"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/me.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">VK2WAY</a></div><div class="site-subtitle font-italic">Jared Quinn</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-user ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fas fa-envelope ml-xl-3 mr-xl-3 unloaded"></i> <span>CONTACT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/jaredquinn" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/jaredquinn" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['cq','vk2way.id.au'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>APRS WX Weather Station</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>APRS WX Weather Station</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Jared Quinn </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Dec 4, 2021, 12:00 AM +1100" >Dec 4, 2021<i class="unloaded">2021-12-04T00:00:00+11:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="451 words">2 min read</span></div></div><div class="post-content"><p>Early Draft Article: Work in progress</p><h1 id="introduction">Introduction</h1><p>While usually I try to consolidate projects to deploy fewer devices, the decision on this project was to build it so that it would be useful for anyone wanting to build their own weather station.</p><p>Originally this project was just to add some additional sensors to the balcony camera and radio system; but since it’s original inception it has become an entirely standalone project.</p><h1 id="project-goals">Project Goals</h1><p>The initial incarnation of this project had the goal of replacing a Holman “iWeather” station that had been running in my apartment for over 10 years with it’s 433Mhz external sensor.</p><p><img data-proofer-ignore data-src="/posts/weather-station//holman.jpg" alt="Old Holman iWeather" /></p><p>Since getting my radio license and playing with APRS this scope of this project expanded to become a fully fledged, climate-monitoring weather station collecting as much data as possible, while working with a friend to install a more plug-and-play version of this at his has seen the project cover a range of hardware and microcontrollers.</p><p>What I’m trying to present here though is options.</p><h1 id="the-software">The Software</h1><p>Usually I would dive straight into a project’s hardware, what to buy and how to build it. The core of this project however is the software so that is what this article will be focussed on; the hardware however is covered in two other articles depending upon how you’re approaching your build.</p><h1 id="controller">Controller</h1><p>There are several options for the controller; and building those will be separated into separate articles while this article focuses on the common parts between the two.</p><h2 id="the-tinkerer-approach">The Tinkerer Approach</h2><p>Thanks to a range of existing infrastructure within my network for smart home and other monitoring I opted for utilising the MQTT Bridge that was already in place for Home Assistant, as this allows all devices in the house to publish and/or subscribe to any “topic”. My weather station is currently an aggregation of 3 devices, one off the shelf sensor and two ESP microcontrollers running the Arduino-based code that is published as part of this article.</p><p>For the complete guide to building your remote microcontroller based weather station start your adventure at <a href="/_posts/espwx">ESP WX</a>.</p><h2 id="the-off-the-shelf-approach">The Off-the-Shelf Approach</h2><p>Thanks to a range of existing infrastructure within my network for smart home and other monitoring I opted for utilising the MQTT Bridge that was already in place for Home Assistant, as this allows all devices in the house to publish and/or subscribe to any “topic”. My weather station is currently an aggregation of 3 devices, one off the shelf sensor and two ESP microcontrollers running the Arduino-based code that is published as part of this article.</p><p>For the complete guide to adding/buying and using off-the-shelf components or the designs available from M0HHF, you can start exploring the <a href="/_posts/piwx">Pi WX</a>.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/smart-home/'>Smart Home</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/weatherstation/" class="post-tag no-text-decoration" >weatherstation</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=APRS WX Weather Station - VK2WAY&url=https://vk2way.id.au/posts/weather-station/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=APRS WX Weather Station - VK2WAY&u=https://vk2way.id.au/posts/weather-station/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=APRS WX Weather Station - VK2WAY&url=https://vk2way.id.au/posts/weather-station/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/homeassistant/">homeassistant</a> <a class="post-tag" href="/tags/pi/">pi</a> <a class="post-tag" href="/tags/sdr/">sdr</a> <a class="post-tag" href="/tags/smarthome/">smarthome</a> <a class="post-tag" href="/tags/sbc/">sbc</a> <a class="post-tag" href="/tags/esp/">esp</a> <a class="post-tag" href="/tags/software/">software</a> <a class="post-tag" href="/tags/weatherstation/">weatherstation</a> <a class="post-tag" href="/tags/camera/">camera</a> <a class="post-tag" href="/tags/can/">can</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/espwx/"><div class="card-body"> <span class="timeago small" >Feb 9<i class="unloaded">2022-02-09T00:00:00+11:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ESPWX Weather Modules</h3><div class="text-muted small"><p> Early Draft Article: Work in progress Introducton This article is part of a series on building a weather station, utilising common software with a few different approaches to hardware. The ultim...</p></div></div></a></div><div class="card"> <a href="/posts/homeassistant/"><div class="card-body"> <span class="timeago small" >Oct 27, 2021<i class="unloaded">2021-10-27T00:00:00+11:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Welcome to my Smart Home</h3><div class="text-muted small"><p> Software Ecosystem Ubuntu 21.10 on Intel NUC Homeassistant (latest) Mosquitto MQTT Broker Smart Home Devices Google Home Google Nest Hub Google Home Mini x 2 TCL 4k Android TV...</p></div></div></a></div><div class="card"> <a href="/posts/take-full-control/"><div class="card-body"> <span class="timeago small" >Oct 28, 2021<i class="unloaded">2021-10-28T00:00:00+11:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Take Full Control of your Smart Home</h3><div class="text-muted small"><p> On 29th August 2019 I presented a talk at Sydney Infrastructure Coder’s meetup “House coders”: You can find more events from Sydney Infrastructure Coders at meetup.com↗. Projects Mentioned ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/balcony-multi-cam/" class="btn btn-outline-primary" prompt="Older"><p>The Balcony Multi-System (Radio and Camera)</p></a> <a href="/posts/on-time/" class="btn btn-outline-primary" prompt="Newer"><p>On Time - Adding a Stratum 1 Time Source</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/jaredquinn">Jared Quinn</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/homeassistant/">homeassistant</a> <a class="post-tag" href="/tags/pi/">pi</a> <a class="post-tag" href="/tags/sdr/">sdr</a> <a class="post-tag" href="/tags/smarthome/">smarthome</a> <a class="post-tag" href="/tags/sbc/">sbc</a> <a class="post-tag" href="/tags/esp/">esp</a> <a class="post-tag" href="/tags/software/">software</a> <a class="post-tag" href="/tags/weatherstation/">weatherstation</a> <a class="post-tag" href="/tags/camera/">camera</a> <a class="post-tag" href="/tags/can/">can</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-HJW3RZNZYR"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-HJW3RZNZYR'); }); </script>
